<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoAnalyzer - Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!--- CSS/JS Effects --->
    <div class="cursor"></div>
    <div class="cursor-follower"></div>
    <div class="floating-shapes"></div>
    <div class="crypto-rain" id="cryptoRain"></div>
    <!--- CSS/JS Effects --->

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="crypto-rain" id="cryptoRain"></div>
        <div class="loading-container">
            <div class="loading-title">CRYPTO ANALYZER</div>
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <div class="loading-text">Conectando ao mercado...</div>
            <div class="loading-progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="loading-status" id="loadingStatus">Inicializando sistema...</div>
        </div>
    </div>
    <!-- Loading Screen End -->

    <!-- status da API -->
    <div class="api-status">
        <div class="status-indicator">
            <div id="statusDot" class="status-dot"></div>
            <span id="statusText"></span>
        </div>
    </div>
    <!-- status da API -->

    <!-- Theme button -->
    <div class="theme-toggle-container">
        <div class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Toggle theme">
            <div class="toggle-track">
                <div class="toggle-thumb">
                    <div class="theme-icon">
                        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"></circle>
                            <path
                                d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42">
                            </path>
                        </svg>
                        <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <span class="theme-label" id="themeLabel">Dark Mode</span>
        </div>
    </div>
    <!-- Theme button End -->

    <!-- Container -->
    <div class="container" id="mainContainer">
        <div class="header">
            <h1>CryptoAnalyzer</h1>
            <p>Dashboard de análise criptomoedas</p>
            <div class="action-buttons">
                <button class="cta-button" id="analyzeButton" onclick="analyzeMarket()">
                    <span id="buttonText">Analisar Mercado</span>
                </button>
            </div>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message" style="display: none;"></div>

        <!-- Cards Quantidade analisados End -->
        <div id="statsSection" style="display: none;">
            <div class="stats-grid" id="statsGrid">
                <div class="stat-card">
                    <h3>Em Alta (24h)</h3>
                    <div class="value" id="highPerformersCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Oportunidades</h3>
                    <div class="value" id="opportunitiesCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Top Performers</h3>
                    <div class="value" id="topPerformersCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Total Analisadas</h3>
                    <div class="value" id="totalAnalyzed">0</div>
                </div>
            </div>
        </div>
        <!-- Cards Quantidade analisados End -->

        <!-- Cards Stats -->
        <div id="highPerformersSection" class="section" style="display: none;">
            <h2 class="section-title">🚀 Moedas em Alta (24h)</h2>
            <div id="highPerformersGrid" class="cards-grid"></div>
        </div>

        <div id="opportunitiesSection" class="section" style="display: none;">
            <h2 class="section-title">💡 Oportunidades de Compra</h2>
            <p style="color: #a0a0a0; margin-bottom: 20px; padding-left: 15px;">
                Moedas com crescimento positivo nos últimos 7 dias, mas queda nas últimas 24h
            </p>
            <div id="opportunitiesGrid" class="cards-grid"></div>
        </div>

        <div id="topPerformersSection" class="section" style="display: none;">
            <h2 class="section-title">🏆 Top Performers (24h)</h2>
            <div id="topPerformersGrid" class="cards-grid"></div>
        </div>
        <!-- Cards Stats End -->

        <div id="chartSection" class="section" style="display: none;">
            <h2 class="section-title">📈 Gráfico da Moeda Selecionada</h2>
            <div class="chart-container">
                <div class="chart-header">
                    <div class="selected-coin-info">
                        <span class="selected-coin-symbol" id="selectedCoinSymbol">BTC</span>
                        <span class="selected-coin-name" id="selectedCoinName">Bitcoin</span>
                        <span class="selected-coin-price" id="selectedCoinPrice">$45,320.50</span>
                    </div>
                    <div class="chart-controls">
                        <select id="chartTimeframe" class="chart-timeframe-select">
                            <option value="1">1 Dia</option>
                            <option value="7" selected>7 Dias</option>
                            <option value="30">30 Dias</option>
                            <option value="90">90 Dias</option>
                        </select>
                    </div>
                </div>
                <div class="chart-loading" id="chartLoading" style="display: none;">
                    <div class="chart-spinner"></div>
                    <span>Carregando dados históricos...</span>
                </div>
                <div class="chart-wrapper">
                    <canvas id="priceChart" width="800" height="300"></canvas>
                </div>
                <div class="chart-stats">
                    <div class="stat-item">
                        <span class="stat-label">Variação 24h</span>
                        <span class="stat-value" id="chart24hChange">+2.45%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Variação 7d</span>
                        <span class="stat-value" id="chart7dChange">+5.20%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Máxima</span>
                        <span class="stat-value" id="chartMaxPrice">$46,850.00</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Mínima</span>
                        <span class="stat-value" id="chartMinPrice">$43,120.00</span>
                    </div>
                </div>
            </div>
        </div>


        <!-- Table -->
        <div id="allCoinsSection" class="section" style="display: none;">
            <h2 class="section-title">📊 Todas as Moedas (Top 100)</h2>
            <div class="coins-table-container">
                <div class="table-controls">
                    <input type="text" id="coinSearch" placeholder="Buscar moeda..." class="search-input">
                    <select id="sortSelect" class="sort-select">
                        <option value="rank">Ranking</option>
                        <option value="name">Nome</option>
                        <option value="price">Preço</option>
                        <option value="change24h">Variação 24h</option>
                        <option value="marketCap">Market Cap</option>
                    </select>
                </div>
                <div class="table-wrapper">
                    <table class="coins-table" id="coinsTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Moeda</th>
                                <th>Preço</th>
                                <th>24h %</th>
                                <th>7d %</th>
                                <th>Market Cap</th>
                            </tr>
                        </thead>
                        <tbody id="coinsTableBody"></tbody>
                    </table>
                </div>
            </div>
            <div id="lastUpdate" class="last-update" style="display: none;"></div>
            <a href="https://github.com/FelipeHondei/ApiCrypto" class="cta-button" onclick="activateGlitch()">Enter the
                Matrix</a>
        </div>
        <!-- Table End -->
        <script src="script.js"></script>
        <!-- Container End -->
</body>

</html>